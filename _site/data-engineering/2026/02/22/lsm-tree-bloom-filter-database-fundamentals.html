<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="stylesheet" href="/assets/css/style.css">
  <!-- Head includes for Jekyll -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- SEO -->

<meta name="description" content="ìµœì‹  ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” LSM Treeì™€ Bloom Filterì˜ ì›ë¦¬ë¶€í„° ì‹¤ë¬´ ì ìš©ê¹Œì§€ ì™„ì „ ì •ë³µí•©ë‹ˆë‹¤.">



<title>LSM Treeì™€ Bloom Filter - í˜„ëŒ€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í•µì‹¬ ìë£Œêµ¬ì¡° - Data Droid Blog</title>


<!-- Open Graph -->
<meta property="og:title" content="LSM Treeì™€ Bloom Filter - í˜„ëŒ€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í•µì‹¬ ìë£Œêµ¬ì¡°">
<meta property="og:description" content="ìµœì‹  ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” LSM Treeì™€ Bloom Filterì˜ ì›ë¦¬ë¶€í„° ì‹¤ë¬´ ì ìš©ê¹Œì§€ ì™„ì „ ì •ë³µí•©ë‹ˆë‹¤.">
<meta property="og:url" content="http://localhost:4000/data-engineering/2026/02/22/lsm-tree-bloom-filter-database-fundamentals.html">
<meta property="og:type" content="website">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LSM Treeì™€ Bloom Filter - í˜„ëŒ€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í•µì‹¬ ìë£Œêµ¬ì¡°">
<meta name="twitter:description" content="ìµœì‹  ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” LSM Treeì™€ Bloom Filterì˜ ì›ë¦¬ë¶€í„° ì‹¤ë¬´ ì ìš©ê¹Œì§€ ì™„ì „ ì •ë³µí•©ë‹ˆë‹¤.">

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
<link rel="icon" type="image/x-icon" href="/favicon.ico">

<!-- RSS Feed -->
<link rel="alternate" type="application/rss+xml" title="Data Droid Blog" href="/feed.xml">

<!-- Google Analytics -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GP9LT745PP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-GP9LT745PP');
</script>


</head>
<body>
  <header class="site-header">
  <div class="container">
    <div class="site-title">
      <a href="/">Data Droid Blog</a>
    </div>
    
    <!-- Mobile menu toggle button -->
    <button class="mobile-menu-toggle" aria-label="ë©”ë‰´ ì—´ê¸°/ë‹«ê¸°">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    
    <nav class="site-nav">
      <ul class="nav-list">
        <li><a href="/">í™ˆ</a></li>
                  <li class="dropdown">
            <a href="#" class="dropdown-toggle">ì¹´í…Œê³ ë¦¬</a>
            <ul class="dropdown-menu">

              <li><a href="/categories/data-engineering/">ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§</a></li>
              <li><a href="/categories/bi-engineering/">BI ì—”ì§€ë‹ˆì–´ë§</a></li>
              <li><a href="/categories/infrastructure-tools/">ì¸í”„ë¼ & ë„êµ¬</a></li>
              <li><a href="/categories/data-quality/">ë°ì´í„° í’ˆì§ˆ</a></li>
              <li><a href="/categories/data-ai/">Data AI</a></li>
            </ul>
          </li>
        <li><a href="/blog/">ë¸”ë¡œê·¸</a></li>
        <li><a href="/about/">ì†Œê°œ</a></li>
      </ul>
    </nav>
    
    <div class="language-switcher">
      
        <!-- í¬ìŠ¤íŠ¸ìš© ì–¸ì–´ ì „í™˜ -->
        
          <a href="/data-engineering/2026/02/22/lsm-tree-bloom-filter-database-fundamentals.html" class="lang-btn active">í•œêµ­ì–´</a>
          
          <a href="/en_posts/2026-02-22-lsm-tree-bloom-filter-database-fundamentals.html" class="lang-btn">English</a>
        
      
    </div>
  </div>
</header>

  
  <main class="site-main">
    <div class="container">
      <article class="post">
  <header class="post-header">
    <div class="post-meta">
      <span class="post-category">Data engineering</span>
      <span class="post-date">2026ë…„ 02ì›” 22ì¼</span>
      <span class="post-author">Data Droid</span>
    </div>
    
    <h1 class="post-title">LSM Treeì™€ Bloom Filter - í˜„ëŒ€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í•µì‹¬ ìë£Œêµ¬ì¡°</h1>
    
    
    <div class="post-tags">
      
        <span class="tag">LSM-Tree</span>
      
        <span class="tag">Bloom-Filter</span>
      
        <span class="tag">ë°ì´í„°ë² ì´ìŠ¤</span>
      
        <span class="tag">ìë£Œêµ¬ì¡°</span>
      
        <span class="tag">NoSQL</span>
      
        <span class="tag">RocksDB</span>
      
        <span class="tag">LevelDB</span>
      
        <span class="tag">ì„±ëŠ¥ìµœì í™”</span>
      
    </div>
    
    
    
    
    
    <div class="post-info">
      
        <span class="reading-time">â±ï¸ 45ë¶„</span>
      
      
        <span class="difficulty">ğŸ“Š ì¤‘ê¸‰</span>
      
    </div>
    
  </header>

  <div class="post-content">
    <h1 id="-lsm-treeì™€-bloom-filter---í˜„ëŒ€-ë°ì´í„°ë² ì´ìŠ¤ì˜-í•µì‹¬-ìë£Œêµ¬ì¡°">ğŸŒ³ LSM Treeì™€ Bloom Filter - í˜„ëŒ€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í•µì‹¬ ìë£Œêµ¬ì¡°</h1>

<blockquote>
  <p><strong>â€œë¹ ë¥¸ ì“°ê¸°ì™€ íš¨ìœ¨ì ì¸ ì½ê¸°ë¥¼ ë™ì‹œì— - LSM Treeì™€ Bloom Filterê°€ ë§Œë“œëŠ” í˜„ëŒ€ì  ë°ì´í„°ë² ì´ìŠ¤â€</strong> - RocksDB, Cassandra, HBaseì˜ í•µì‹¬ ê¸°ìˆ </p>
</blockquote>

<p>ì „í†µì ì¸ B-Tree ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ëœë¤ ì“°ê¸° ì„±ëŠ¥ì— í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. LSM Tree(Log-Structured Merge Tree)ëŠ” ìˆœì°¨ ì“°ê¸°ë¥¼ í™œìš©í•˜ì—¬ <strong>ì“°ê¸° ì„±ëŠ¥ì„ ìˆ˜ì‹­ ë°° í–¥ìƒ</strong>ì‹œí‚¤ê³ , Bloom FilterëŠ” <strong>ë¶ˆí•„ìš”í•œ ë””ìŠ¤í¬ I/Oë¥¼ ëŒ€í­ ì¤„ì—¬</strong> ì½ê¸° ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ë‘ ê¸°ìˆ ì˜ ì›ë¦¬ë¶€í„° ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ êµ¬í˜„ê¹Œì§€ ì™„ì „íˆ ì •ë³µí•©ë‹ˆë‹¤.</p>

<hr />

<h2 id="-ëª©ì°¨">ğŸ“š ëª©ì°¨</h2>

<ul>
  <li><a href="#lsm-treeë€">LSM Treeë€?</a></li>
  <li><a href="#lsm-tree-ë™ì‘-ì›ë¦¬">LSM Tree ë™ì‘ ì›ë¦¬</a></li>
  <li><a href="#bloom-filter-ê¸°ì´ˆ">Bloom Filter ê¸°ì´ˆ</a></li>
  <li><a href="#bloom-filter-ë™ì‘-ì›ë¦¬">Bloom Filter ë™ì‘ ì›ë¦¬</a></li>
  <li><a href="#lsm-treeì™€-bloom-filterì˜-ì¡°í•©">LSM Treeì™€ Bloom Filterì˜ ì¡°í•©</a></li>
  <li><a href="#ì‹¤ì œ-ë°ì´í„°ë² ì´ìŠ¤-êµ¬í˜„">ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ êµ¬í˜„</a></li>
  <li><a href="#ì„±ëŠ¥-ìµœì í™”-ì „ëµ">ì„±ëŠ¥ ìµœì í™” ì „ëµ</a></li>
  <li><a href="#í•™ìŠµ-ìš”ì•½">í•™ìŠµ ìš”ì•½</a></li>
</ul>

<hr />

<h2 id="lsm-treeë€">ğŸ¯ LSM Treeë€?</h2>

<h3 id="ì „í†µì ì¸-b-treeì˜-í•œê³„">ì „í†µì ì¸ B-Treeì˜ í•œê³„</h3>

<p>ì „í†µì ì¸ B-Tree ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤(MySQL, PostgreSQL ë“±)ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤:</p>

<h4 id="ë¬¸ì œ-1-ëœë¤-ì“°ê¸°-ì„±ëŠ¥-ì €í•˜"><strong>ë¬¸ì œ 1: ëœë¤ ì“°ê¸° ì„±ëŠ¥ ì €í•˜</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># B-Treeì˜ ëœë¤ ì“°ê¸°
# ê° ì“°ê¸°ë§ˆë‹¤ ë””ìŠ¤í¬ì˜ ì—¬ëŸ¬ ìœ„ì¹˜ë¥¼ ìˆ˜ì •í•´ì•¼ í•¨
</span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="nf">users </span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="nc">VALUES </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="sh">'</span><span class="s">Alice</span><span class="sh">'</span><span class="p">);</span>   <span class="c1"># ë””ìŠ¤í¬ ìœ„ì¹˜ A ìˆ˜ì •
</span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="nf">users </span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="nc">VALUES </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="sh">'</span><span class="s">Bob</span><span class="sh">'</span><span class="p">);</span>      <span class="c1"># ë””ìŠ¤í¬ ìœ„ì¹˜ B ìˆ˜ì •
</span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="nf">users </span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="nc">VALUES </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="sh">'</span><span class="s">Charlie</span><span class="sh">'</span><span class="p">);</span> <span class="c1"># ë””ìŠ¤í¬ ìœ„ì¹˜ C ìˆ˜ì •
# â†’ ë””ìŠ¤í¬ í—¤ë“œ ì´ë™ì´ ë§ì•„ ì„±ëŠ¥ ì €í•˜
</span></code></pre></div></div>

<h4 id="ë¬¸ì œ-2-write-amplification"><strong>ë¬¸ì œ 2: Write Amplification</strong></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>B-Tree ì“°ê¸° ê³¼ì •:
1. ë°ì´í„° í˜ì´ì§€ ì½ê¸° (ë””ìŠ¤í¬ I/O)
2. í˜ì´ì§€ ìˆ˜ì •
3. í˜ì´ì§€ ì“°ê¸° (ë””ìŠ¤í¬ I/O)
4. ì¸ë±ìŠ¤ í˜ì´ì§€ ì—…ë°ì´íŠ¸ (ì¶”ê°€ ë””ìŠ¤í¬ I/O)
5. WAL(Write-Ahead Log) ì“°ê¸° (ì¶”ê°€ ë””ìŠ¤í¬ I/O)

â†’ í•˜ë‚˜ì˜ ì“°ê¸°ê°€ ì—¬ëŸ¬ ë²ˆì˜ ë””ìŠ¤í¬ I/Oë¥¼ ìœ ë°œ
</code></pre></div></div>

<h3 id="lsm-treeì˜-í•´ê²°ì±…">LSM Treeì˜ í•´ê²°ì±…</h3>

<p>LSM TreeëŠ” <strong>ìˆœì°¨ ì“°ê¸°(Sequential Write)</strong>ë¥¼ í™œìš©í•˜ì—¬ ì„±ëŠ¥ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.</p>

<h4 id="í•µì‹¬-ì•„ì´ë””ì–´"><strong>í•µì‹¬ ì•„ì´ë””ì–´</strong></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì „í†µì ì¸ B-Tree:
ëœë¤ ì“°ê¸° â†’ ë””ìŠ¤í¬ í—¤ë“œ ì´ë™ â†’ ëŠë¦° ì„±ëŠ¥

LSM Tree:
1. ë©”ëª¨ë¦¬ ë²„í¼ì— ìˆœì°¨ì ìœ¼ë¡œ ì“°ê¸° (ë§¤ìš° ë¹ ë¦„)
2. ë²„í¼ê°€ ê°€ë“ ì°¨ë©´ ë””ìŠ¤í¬ì— ìˆœì°¨ ì“°ê¸° (ë¹ ë¦„)
3. ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë³‘í•©(Compaction) ìˆ˜í–‰
</code></pre></div></div>

<h3 id="lsm-treeì˜-ì¥ì ">LSM Treeì˜ ì¥ì </h3>

<table>
  <thead>
    <tr>
      <th><strong>íŠ¹ì§•</strong></th>
      <th><strong>B-Tree</strong></th>
      <th><strong>LSM Tree</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ì“°ê¸° ì„±ëŠ¥</strong></td>
      <td>ëœë¤ ì“°ê¸° (ëŠë¦¼)</td>
      <td>ìˆœì°¨ ì“°ê¸° (ë¹ ë¦„)</td>
    </tr>
    <tr>
      <td><strong>ì“°ê¸° ì¦í­</strong></td>
      <td>ë†’ìŒ (ì—¬ëŸ¬ í˜ì´ì§€ ìˆ˜ì •)</td>
      <td>ë‚®ìŒ (ìˆœì°¨ ì“°ê¸°)</td>
    </tr>
    <tr>
      <td><strong>ì½ê¸° ì„±ëŠ¥</strong></td>
      <td>ë¹ ë¦„ (ì¸ë±ìŠ¤ ì§ì ‘)</td>
      <td>ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼ (ì—¬ëŸ¬ ë ˆë²¨ ê²€ìƒ‰)</td>
    </tr>
    <tr>
      <td><strong>ê³µê°„ íš¨ìœ¨</strong></td>
      <td>ë†’ìŒ</td>
      <td>ì¤‘ê°„ (ì¤‘ë³µ ë°ì´í„° ì¡´ì¬)</td>
    </tr>
    <tr>
      <td><strong>ì••ì¶•</strong></td>
      <td>ì œí•œì </td>
      <td>íš¨ìœ¨ì  (ë³‘í•© ì‹œ ì••ì¶•)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="lsm-tree-ë™ì‘-ì›ë¦¬">ğŸ”„ LSM Tree ë™ì‘ ì›ë¦¬</h2>

<h3 id="ê¸°ë³¸-êµ¬ì¡°">ê¸°ë³¸ êµ¬ì¡°</h3>

<p>LSM TreeëŠ” ì—¬ëŸ¬ ë ˆë²¨(Level)ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LSM Tree êµ¬ì¡°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MemTable (L0)     â”‚  â† ë©”ëª¨ë¦¬ (ê°€ì¥ ìµœì‹  ë°ì´í„°)
â”‚   (In-Memory)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (í”ŒëŸ¬ì‹œ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SSTable (L1)       â”‚  â† ë””ìŠ¤í¬ (ì‘ì€ íŒŒì¼ë“¤)
â”‚   (Sorted String)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (ë³‘í•©)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SSTable (L2)       â”‚  â† ë””ìŠ¤í¬ (ë” í° íŒŒì¼ë“¤)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SSTable (L3)       â”‚  â† ë””ìŠ¤í¬ (ê°€ì¥ í° íŒŒì¼ë“¤)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<h3 id="1-ì“°ê¸°-ê³¼ì •-write-path">1. ì“°ê¸° ê³¼ì • (Write Path)</h3>

<h4 id="step-1-memtableì—-ì“°ê¸°"><strong>Step 1: MemTableì— ì“°ê¸°</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Pythonìœ¼ë¡œ LSM Tree ì“°ê¸° ê³¼ì • ì‹œë®¬ë ˆì´ì…˜
</span><span class="k">class</span> <span class="nc">MemTable</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># ë©”ëª¨ë¦¬ ë‚´ ì •ë ¬ëœ ë”•ì…”ë„ˆë¦¬
</span>        <span class="n">self</span><span class="p">.</span><span class="n">max_size</span> <span class="o">=</span> <span class="n">max_size</span>
    
    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ë©”ëª¨ë¦¬ì— ë°ì´í„° ì“°ê¸° (ë§¤ìš° ë¹ ë¦„)</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        
        <span class="c1"># MemTableì´ ê°€ë“ ì°¨ë©´ í”ŒëŸ¬ì‹œ
</span>        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">max_size</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="nf">flush</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">None</span>
    
    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">MemTableì„ ë””ìŠ¤í¬(SSTable)ë¡œ í”ŒëŸ¬ì‹œ</span><span class="sh">"""</span>
        <span class="c1"># ì •ë ¬ëœ ë°ì´í„°ë¥¼ SSTableë¡œ ë³€í™˜
</span>        <span class="n">sorted_data</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">items</span><span class="p">())</span>
        <span class="n">sstable</span> <span class="o">=</span> <span class="nc">SSTable</span><span class="p">(</span><span class="n">sorted_data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>  <span class="c1"># MemTable ì´ˆê¸°í™”
</span>        <span class="k">return</span> <span class="n">sstable</span>

<span class="c1"># ì‚¬ìš© ì˜ˆì‹œ
</span><span class="n">memtable</span> <span class="o">=</span> <span class="nc">MemTable</span><span class="p">(</span><span class="n">max_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># ìˆœì°¨ì ìœ¼ë¡œ ì“°ê¸° (ë§¤ìš° ë¹ ë¦„)
</span><span class="n">memtable</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="n">memtable</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:2</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Bob</span><span class="sh">"</span><span class="p">)</span>
<span class="n">memtable</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:3</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Charlie</span><span class="sh">"</span><span class="p">)</span>
<span class="n">memtable</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:4</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">David</span><span class="sh">"</span><span class="p">)</span>
<span class="n">memtable</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:5</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Eve</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># â†’ MemTable ê°€ë“ ì°¸ â†’ í”ŒëŸ¬ì‹œ ë°œìƒ
</span></code></pre></div></div>

<h4 id="step-2-walwrite-ahead-log-ì“°ê¸°"><strong>Step 2: WAL(Write-Ahead Log) ì“°ê¸°</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">WAL</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ì“°ê¸° ì „ ë¡œê·¸ - ì¥ì•  ë³µêµ¬ë¥¼ ìœ„í•œ ë¡œê·¸</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">log_file</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">log_file</span> <span class="o">=</span> <span class="n">log_file</span>
    
    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">WALì— ìˆœì°¨ì ìœ¼ë¡œ ì“°ê¸° (ë§¤ìš° ë¹ ë¦„)</span><span class="sh">"""</span>
        <span class="n">log_entry</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">log_file</span><span class="p">,</span> <span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">replay</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ì¥ì•  ë³µêµ¬ ì‹œ WAL ì¬ìƒ</span><span class="sh">"""</span>
        <span class="n">operations</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">log_file</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">().</span><span class="nf">split</span><span class="p">(</span><span class="sh">'</span><span class="s">:</span><span class="sh">'</span><span class="p">)</span>
                <span class="n">operations</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">operations</span>

<span class="c1"># ì“°ê¸° ê³¼ì •
</span><span class="n">wal</span> <span class="o">=</span> <span class="nc">WAL</span><span class="p">(</span><span class="sh">"</span><span class="s">wal.log</span><span class="sh">"</span><span class="p">)</span>
<span class="n">wal</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># WALì— ë¨¼ì € ì“°ê¸°
</span><span class="n">memtable</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># ê·¸ ë‹¤ìŒ MemTableì— ì“°ê¸°
</span></code></pre></div></div>

<h4 id="step-3-sstable-ìƒì„±"><strong>Step 3: SSTable ìƒì„±</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SSTable</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Sorted String Table - ë””ìŠ¤í¬ì— ì €ì¥ë˜ëŠ” ì •ë ¬ëœ ë°ì´í„°</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">sorted_data</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">sorted_data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">min_key</span> <span class="o">=</span> <span class="nf">min</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">keys</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">max_key</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">keys</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">size</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">SSTableì—ì„œ í‚¤ ì¡°íšŒ</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">range_query</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">start_key</span><span class="p">,</span> <span class="n">end_key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ë²”ìœ„ ì¿¼ë¦¬</span><span class="sh">"""</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">start_key</span> <span class="o">&lt;=</span> <span class="n">key</span> <span class="o">&lt;=</span> <span class="n">end_key</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="n">result</span>

<span class="c1"># MemTable í”ŒëŸ¬ì‹œ â†’ SSTable ìƒì„±
</span><span class="n">sstable</span> <span class="o">=</span> <span class="n">memtable</span><span class="p">.</span><span class="nf">flush</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">SSTable created: </span><span class="si">{</span><span class="n">sstable</span><span class="p">.</span><span class="n">min_key</span><span class="si">}</span><span class="s"> to </span><span class="si">{</span><span class="n">sstable</span><span class="p">.</span><span class="n">max_key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="2-ì½ê¸°-ê³¼ì •-read-path">2. ì½ê¸° ê³¼ì • (Read Path)</h3>

<p>LSM Treeì˜ ì½ê¸°ëŠ” ì—¬ëŸ¬ ë ˆë²¨ì„ ê²€ìƒ‰í•´ì•¼ í•©ë‹ˆë‹¤:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LSMTree</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">memtable</span> <span class="o">=</span> <span class="nc">MemTable</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">sstables</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># ë ˆë²¨ë³„ SSTable ë¦¬ìŠ¤íŠ¸
</span>        <span class="n">self</span><span class="p">.</span><span class="n">wal</span> <span class="o">=</span> <span class="nc">WAL</span><span class="p">(</span><span class="sh">"</span><span class="s">wal.log</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">í‚¤ ì¡°íšŒ - ìµœì‹  ë°ì´í„°ë¶€í„° ê²€ìƒ‰</span><span class="sh">"""</span>
        
        <span class="c1"># 1. MemTableì—ì„œ ë¨¼ì € ê²€ìƒ‰ (ê°€ì¥ ìµœì‹ )
</span>        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">memtable</span><span class="p">.</span><span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">memtable</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        
        <span class="c1"># 2. SSTableë“¤ì„ ìµœì‹  ìˆœì„œë¡œ ê²€ìƒ‰
</span>        <span class="k">for</span> <span class="n">sstable</span> <span class="ow">in</span> <span class="nf">reversed</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">sstables</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">sstable</span><span class="p">.</span><span class="n">min_key</span> <span class="o">&lt;=</span> <span class="n">key</span> <span class="o">&lt;=</span> <span class="n">sstable</span><span class="p">.</span><span class="n">max_key</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">sstable</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">value</span>
        
        <span class="c1"># 3. ì°¾ì§€ ëª»í•¨
</span>        <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># ì½ê¸° ì˜ˆì‹œ
</span><span class="n">lsm</span> <span class="o">=</span> <span class="nc">LSMTree</span><span class="p">()</span>
<span class="n">lsm</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="n">lsm</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sh">"</span><span class="s">user:2</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Bob</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># MemTableì—ì„œ ë°”ë¡œ ì°¾ìŒ (ë¹ ë¦„)
</span><span class="nf">print</span><span class="p">(</span><span class="n">lsm</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># "Alice"
</span>
<span class="c1"># MemTable í”ŒëŸ¬ì‹œ í›„
</span><span class="n">lsm</span><span class="p">.</span><span class="n">memtable</span><span class="p">.</span><span class="nf">flush</span><span class="p">()</span>

<span class="c1"># SSTableì—ì„œ ì°¾ìŒ (ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼)
</span><span class="nf">print</span><span class="p">(</span><span class="n">lsm</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># "Alice"
</span></code></pre></div></div>

<h3 id="3-compaction-ë³‘í•©-ê³¼ì •">3. Compaction (ë³‘í•©) ê³¼ì •</h3>

<p>Compactionì€ ì—¬ëŸ¬ SSTableì„ ë³‘í•©í•˜ì—¬ ì½ê¸° ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Compactor</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">SSTable ë³‘í•© ë‹´ë‹¹</span><span class="sh">"""</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">compact</span><span class="p">(</span><span class="n">sstables</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ì—¬ëŸ¬ SSTableì„ í•˜ë‚˜ë¡œ ë³‘í•©</span><span class="sh">"""</span>
        <span class="n">merged_data</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="c1"># ëª¨ë“  SSTableì˜ ë°ì´í„°ë¥¼ ë³‘í•© (ìµœì‹  ê°’ ìš°ì„ )
</span>        <span class="k">for</span> <span class="n">sstable</span> <span class="ow">in</span> <span class="nf">reversed</span><span class="p">(</span><span class="n">sstables</span><span class="p">):</span>  <span class="c1"># ìµœì‹ ë¶€í„°
</span>            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">sstable</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">merged_data</span><span class="p">:</span>  <span class="c1"># ìµœì‹  ê°’ë§Œ ìœ ì§€
</span>                    <span class="n">merged_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        
        <span class="c1"># ì •ë ¬ëœ ìƒˆ SSTable ìƒì„±
</span>        <span class="n">sorted_data</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">merged_data</span><span class="p">.</span><span class="nf">items</span><span class="p">())</span>
        <span class="k">return</span> <span class="nc">SSTable</span><span class="p">(</span><span class="n">sorted_data</span><span class="p">)</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">level_compact</span><span class="p">(</span><span class="n">level_sstables</span><span class="p">,</span> <span class="n">next_level_sstables</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ë ˆë²¨ ê°„ ë³‘í•© (Leveled Compaction)</span><span class="sh">"""</span>
        <span class="c1"># L1ì˜ SSTableë“¤ì„ L2ì™€ ë³‘í•©
</span>        <span class="n">all_sstables</span> <span class="o">=</span> <span class="n">level_sstables</span> <span class="o">+</span> <span class="n">next_level_sstables</span>
        <span class="k">return</span> <span class="n">Compactor</span><span class="p">.</span><span class="nf">compact</span><span class="p">(</span><span class="n">all_sstables</span><span class="p">)</span>

<span class="c1"># Compaction ì˜ˆì‹œ
</span><span class="n">sstable1</span> <span class="o">=</span> <span class="nc">SSTable</span><span class="p">([(</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">1</span><span class="sh">"</span><span class="p">),</span> <span class="p">(</span><span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">2</span><span class="sh">"</span><span class="p">)])</span>
<span class="n">sstable2</span> <span class="o">=</span> <span class="nc">SSTable</span><span class="p">([(</span><span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">3</span><span class="sh">"</span><span class="p">),</span> <span class="p">(</span><span class="sh">"</span><span class="s">c</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">4</span><span class="sh">"</span><span class="p">)])</span>  <span class="c1"># bê°€ ì—…ë°ì´íŠ¸ë¨
</span>
<span class="c1"># ë³‘í•© (ìµœì‹  ê°’ ìš°ì„ )
</span><span class="n">merged</span> <span class="o">=</span> <span class="n">Compactor</span><span class="p">.</span><span class="nf">compact</span><span class="p">([</span><span class="n">sstable1</span><span class="p">,</span> <span class="n">sstable2</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">merged</span><span class="p">.</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># {'a': '1', 'b': '3', 'c': '4'}
</span></code></pre></div></div>

<h3 id="compaction-ì „ëµ">Compaction ì „ëµ</h3>

<h4 id="size-tiered-compaction"><strong>Size-Tiered Compaction</strong></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ë ˆë²¨ë³„ë¡œ ë¹„ìŠ·í•œ í¬ê¸°ì˜ SSTableë“¤ì„ ë³‘í•©
L1: [10MB, 10MB, 10MB] â†’ ë³‘í•© â†’ L2: [30MB]
L2: [30MB, 30MB, 30MB] â†’ ë³‘í•© â†’ L3: [90MB]
</code></pre></div></div>

<h4 id="leveled-compaction"><strong>Leveled Compaction</strong></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ê° ë ˆë²¨ì€ ìµœëŒ€ í¬ê¸° ì œí•œ
L1: ìµœëŒ€ 10ê°œ íŒŒì¼, ê° 10MB
L2: ìµœëŒ€ 10ê°œ íŒŒì¼, ê° 100MB
L3: ìµœëŒ€ 10ê°œ íŒŒì¼, ê° 1GB
â†’ ë ˆë²¨ì´ ì˜¬ë¼ê°ˆìˆ˜ë¡ íŒŒì¼ í¬ê¸° ì¦ê°€
</code></pre></div></div>

<hr />

<h2 id="bloom-filter-ê¸°ì´ˆ">ğŸ” Bloom Filter ê¸°ì´ˆ</h2>

<h3 id="bloom-filterë€">Bloom Filterë€?</h3>

<p>Bloom FilterëŠ” <strong>í™•ë¥ ì  ìë£Œêµ¬ì¡°(Probabilistic Data Structure)</strong>ë¡œ, <strong>ì›ì†Œì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ ë¹ ë¥´ê²Œ í™•ì¸</strong>í•  ìˆ˜ ìˆì§€ë§Œ, <strong>False Positive(ê±°ì§“ ì–‘ì„±)ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ False Negative(ê±°ì§“ ìŒì„±)ëŠ” ë¶ˆê°€ëŠ¥</strong>í•©ë‹ˆë‹¤.</p>

<h3 id="ì™œ-bloom-filterê°€-í•„ìš”í•œê°€">ì™œ Bloom Filterê°€ í•„ìš”í•œê°€?</h3>

<p>LSM Treeì—ì„œ í‚¤ë¥¼ ì°¾ì„ ë•Œ:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bloom Filter ì—†ì´ í‚¤ ê²€ìƒ‰
</span><span class="k">def</span> <span class="nf">get_without_bloom_filter</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="c1"># ëª¨ë“  SSTableì„ ê²€ìƒ‰í•´ì•¼ í•¨
</span>    <span class="k">for</span> <span class="n">sstable</span> <span class="ow">in</span> <span class="n">sstables</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">sstable</span><span class="p">:</span>  <span class="c1"># ë””ìŠ¤í¬ I/O ë°œìƒ!
</span>            <span class="k">return</span> <span class="n">sstable</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># ë¬¸ì œ: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í‚¤ë„ ëª¨ë“  SSTableì„ ê²€ìƒ‰í•´ì•¼ í•¨
# â†’ ë¶ˆí•„ìš”í•œ ë””ìŠ¤í¬ I/O ë°œìƒ
</span></code></pre></div></div>

<p>Bloom Filterë¥¼ ì‚¬ìš©í•˜ë©´:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bloom Filterë¡œ í‚¤ ê²€ìƒ‰
</span><span class="k">def</span> <span class="nf">get_with_bloom_filter</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">sstable</span> <span class="ow">in</span> <span class="n">sstables</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sstable</span><span class="p">.</span><span class="n">bloom_filter</span><span class="p">.</span><span class="nf">might_contain</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>  <span class="c1"># ë©”ëª¨ë¦¬ì—ì„œ ë¹ ë¥´ê²Œ í™•ì¸
</span>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">sstable</span><span class="p">:</span>  <span class="c1"># ì‹¤ì œë¡œ ì¡´ì¬í•  ë•Œë§Œ ë””ìŠ¤í¬ I/O
</span>                <span class="k">return</span> <span class="n">sstable</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># ì¥ì : ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í‚¤ëŠ” ë””ìŠ¤í¬ I/O ì—†ì´ ë¹ ë¥´ê²Œ ê±°ë¶€
</span></code></pre></div></div>

<h3 id="bloom-filterì˜-íŠ¹ì§•">Bloom Filterì˜ íŠ¹ì§•</h3>

<table>
  <thead>
    <tr>
      <th><strong>íŠ¹ì§•</strong></th>
      <th><strong>ì„¤ëª…</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ê³µê°„ íš¨ìœ¨</strong></td>
      <td>ë§¤ìš° ì‘ì€ ë©”ëª¨ë¦¬ ì‚¬ìš© (ë¹„íŠ¸ ë°°ì—´)</td>
    </tr>
    <tr>
      <td><strong>ì†ë„</strong></td>
      <td>O(k) - këŠ” í•´ì‹œ í•¨ìˆ˜ ê°œìˆ˜</td>
    </tr>
    <tr>
      <td><strong>False Positive</strong></td>
      <td>ê°€ëŠ¥ (ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë° ì¡´ì¬í•œë‹¤ê³  íŒë‹¨)</td>
    </tr>
    <tr>
      <td><strong>False Negative</strong></td>
      <td>ë¶ˆê°€ëŠ¥ (ì¡´ì¬í•˜ëŠ”ë° ì—†ë‹¤ê³  íŒë‹¨í•˜ì§€ ì•ŠìŒ)</td>
    </tr>
    <tr>
      <td><strong>ì‚­ì œ</strong></td>
      <td>ê¸°ë³¸ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥ (Counting Bloom Filterë¡œ ê°€ëŠ¥)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="bloom-filter-ë™ì‘-ì›ë¦¬">ğŸ§® Bloom Filter ë™ì‘ ì›ë¦¬</h2>

<h3 id="ê¸°ë³¸-êµ¬ì¡°-1">ê¸°ë³¸ êµ¬ì¡°</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">mmh3</span>  <span class="c1"># MurmurHash3
</span><span class="kn">import</span> <span class="n">math</span>

<span class="k">class</span> <span class="nc">BloomFilter</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Bloom Filter êµ¬í˜„</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">error_rate</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">
        capacity: ì˜ˆìƒ ì›ì†Œ ê°œìˆ˜
        error_rate: í—ˆìš© ê°€ëŠ¥í•œ False Positive ë¹„ìœ¨
        </span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">capacity</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="n">self</span><span class="p">.</span><span class="n">error_rate</span> <span class="o">=</span> <span class="n">error_rate</span>
        
        <span class="c1"># ë¹„íŠ¸ ë°°ì—´ í¬ê¸° ê³„ì‚°
</span>        <span class="c1"># m = -n * ln(p) / (ln(2)^2)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">bit_array_size</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="o">-</span><span class="n">capacity</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">error_rate</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>
        
        <span class="c1"># í•´ì‹œ í•¨ìˆ˜ ê°œìˆ˜ ê³„ì‚°
</span>        <span class="c1"># k = (m/n) * ln(2)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">hash_count</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">self</span><span class="p">.</span><span class="n">bit_array_size</span> <span class="o">/</span> <span class="n">capacity</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        
        <span class="c1"># ë¹„íŠ¸ ë°°ì—´ ì´ˆê¸°í™”
</span>        <span class="n">self</span><span class="p">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">self</span><span class="p">.</span><span class="n">bit_array_size</span>
    
    <span class="k">def</span> <span class="nf">_hash</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">seed</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">í•´ì‹œ í•¨ìˆ˜ (MurmurHash3 ì‚¬ìš©)</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">mmh3</span><span class="p">.</span><span class="nf">hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">bit_array_size</span>
    
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ì›ì†Œ ì¶”ê°€</span><span class="sh">"""</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">hash_count</span><span class="p">):</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    
    <span class="k">def</span> <span class="nf">might_contain</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ì›ì†Œ ì¡´ì¬ ê°€ëŠ¥ì„± í™•ì¸</span><span class="sh">"""</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">hash_count</span><span class="p">):</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>  <span class="c1"># í™•ì‹¤íˆ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
</span>        <span class="k">return</span> <span class="bp">True</span>  <span class="c1"># ì¡´ì¬í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ (False Positive ê°€ëŠ¥)
</span>
<span class="c1"># ì‚¬ìš© ì˜ˆì‹œ
</span><span class="n">bloom</span> <span class="o">=</span> <span class="nc">BloomFilter</span><span class="p">(</span><span class="n">capacity</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">error_rate</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>

<span class="c1"># ì›ì†Œ ì¶”ê°€
</span><span class="n">bloom</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">)</span>
<span class="n">bloom</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="sh">"</span><span class="s">user:2</span><span class="sh">"</span><span class="p">)</span>
<span class="n">bloom</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="sh">"</span><span class="s">user:3</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ì¡´ì¬ í™•ì¸
</span><span class="nf">print</span><span class="p">(</span><span class="n">bloom</span><span class="p">.</span><span class="nf">might_contain</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># True
</span><span class="nf">print</span><span class="p">(</span><span class="n">bloom</span><span class="p">.</span><span class="nf">might_contain</span><span class="p">(</span><span class="sh">"</span><span class="s">user:999</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># False (í™•ì‹¤íˆ ì—†ìŒ)
</span><span class="nf">print</span><span class="p">(</span><span class="n">bloom</span><span class="p">.</span><span class="nf">might_contain</span><span class="p">(</span><span class="sh">"</span><span class="s">user:1001</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># True or False (False Positive ê°€ëŠ¥)
</span></code></pre></div></div>

<h3 id="í•´ì‹œ-í•¨ìˆ˜ì™€-ë¹„íŠ¸-ë°°ì—´">í•´ì‹œ í•¨ìˆ˜ì™€ ë¹„íŠ¸ ë°°ì—´</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bloom Filter ë™ì‘ ê³¼ì •:

1. ì›ì†Œ ì¶”ê°€:
   "user:1" â†’ Hash1 â†’ Index 5 â†’ Bit[5] = 1
            â†’ Hash2 â†’ Index 12 â†’ Bit[12] = 1
            â†’ Hash3 â†’ Index 23 â†’ Bit[23] = 1

2. ì›ì†Œ í™•ì¸:
   "user:1" â†’ Hash1 â†’ Index 5 â†’ Bit[5] == 1? âœ“
            â†’ Hash2 â†’ Index 12 â†’ Bit[12] == 1? âœ“
            â†’ Hash3 â†’ Index 23 â†’ Bit[23] == 1? âœ“
            â†’ "ì¡´ì¬í•  ê°€ëŠ¥ì„± ìˆìŒ" (True)

   "user:999" â†’ Hash1 â†’ Index 7 â†’ Bit[7] == 1? âœ—
              â†’ "í™•ì‹¤íˆ ì¡´ì¬í•˜ì§€ ì•ŠìŒ" (False)
</code></pre></div></div>

<h3 id="false-positive-í™•ë¥ -ê³„ì‚°">False Positive í™•ë¥  ê³„ì‚°</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">calculate_false_positive_rate</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    n: ì‹¤ì œ ì›ì†Œ ê°œìˆ˜
    m: ë¹„íŠ¸ ë°°ì—´ í¬ê¸°
    k: í•´ì‹œ í•¨ìˆ˜ ê°œìˆ˜
    </span><span class="sh">"""</span>
    <span class="c1"># False Positive í™•ë¥  = (1 - e^(-kn/m))^k
</span>    <span class="kn">import</span> <span class="n">math</span>
    <span class="nf">return </span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">math</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">k</span> <span class="o">*</span> <span class="n">n</span> <span class="o">/</span> <span class="n">m</span><span class="p">))</span> <span class="o">**</span> <span class="n">k</span>

<span class="c1"># ì˜ˆì‹œ
</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1000</span>  <span class="c1"># 1000ê°œ ì›ì†Œ
</span><span class="n">m</span> <span class="o">=</span> <span class="mi">9585</span>  <span class="c1"># ë¹„íŠ¸ ë°°ì—´ í¬ê¸° (error_rate=0.01ì¼ ë•Œ)
</span><span class="n">k</span> <span class="o">=</span> <span class="mi">7</span>     <span class="c1"># í•´ì‹œ í•¨ìˆ˜ ê°œìˆ˜
</span>
<span class="n">fp_rate</span> <span class="o">=</span> <span class="nf">calculate_false_positive_rate</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">False Positive Rate: </span><span class="si">{</span><span class="n">fp_rate</span><span class="si">:</span><span class="p">.</span><span class="mi">4</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># ì•½ 0.01 (1%)
</span></code></pre></div></div>

<h3 id="ìµœì -íŒŒë¼ë¯¸í„°-ì„ íƒ">ìµœì  íŒŒë¼ë¯¸í„° ì„ íƒ</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">optimal_bloom_filter_params</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">error_rate</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ìµœì ì˜ Bloom Filter íŒŒë¼ë¯¸í„° ê³„ì‚°</span><span class="sh">"""</span>
    <span class="kn">import</span> <span class="n">math</span>
    
    <span class="c1"># ë¹„íŠ¸ ë°°ì—´ í¬ê¸°
</span>    <span class="n">m</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="o">-</span><span class="n">capacity</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">error_rate</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>
    
    <span class="c1"># í•´ì‹œ í•¨ìˆ˜ ê°œìˆ˜
</span>    <span class="n">k</span> <span class="o">=</span> <span class="nf">int</span><span class="p">((</span><span class="n">m</span> <span class="o">/</span> <span class="n">capacity</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">bit_array_size</span><span class="sh">'</span><span class="p">:</span> <span class="n">m</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">hash_count</span><span class="sh">'</span><span class="p">:</span> <span class="n">k</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">memory_bytes</span><span class="sh">'</span><span class="p">:</span> <span class="n">m</span> <span class="o">/</span> <span class="mi">8</span><span class="p">,</span>  <span class="c1"># ë¹„íŠ¸ë¥¼ ë°”ì´íŠ¸ë¡œ ë³€í™˜
</span>        <span class="sh">'</span><span class="s">bits_per_element</span><span class="sh">'</span><span class="p">:</span> <span class="n">m</span> <span class="o">/</span> <span class="n">capacity</span>
    <span class="p">}</span>

<span class="c1"># ì˜ˆì‹œ: 100ë§Œ ê°œ ì›ì†Œ, 1% ì˜¤ë¥˜ìœ¨
</span><span class="n">params</span> <span class="o">=</span> <span class="nf">optimal_bloom_filter_params</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ë¹„íŠ¸ ë°°ì—´ í¬ê¸°: </span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="sh">'</span><span class="s">bit_array_size</span><span class="sh">'</span><span class="p">]</span><span class="si">:</span><span class="p">,</span><span class="si">}</span><span class="s"> bits</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">í•´ì‹œ í•¨ìˆ˜ ê°œìˆ˜: </span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="sh">'</span><span class="s">hash_count</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: </span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="sh">'</span><span class="s">memory_bytes</span><span class="sh">'</span><span class="p">]</span> <span class="o">/</span> <span class="mi">1024</span> <span class="o">/</span> <span class="mi">1024</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> MB</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ì›ì†Œë‹¹ ë¹„íŠ¸ ìˆ˜: </span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="sh">'</span><span class="s">bits_per_element</span><span class="sh">'</span><span class="p">]</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ì¶œë ¥:
# ë¹„íŠ¸ ë°°ì—´ í¬ê¸°: 9,585,058 bits
# í•´ì‹œ í•¨ìˆ˜ ê°œìˆ˜: 7
# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: 1.14 MB
# ì›ì†Œë‹¹ ë¹„íŠ¸ ìˆ˜: 9.59
</span></code></pre></div></div>

<hr />

<h2 id="lsm-treeì™€-bloom-filterì˜-ì¡°í•©">ğŸ”— LSM Treeì™€ Bloom Filterì˜ ì¡°í•©</h2>

<h3 id="í†µí•©-ì•„í‚¤í…ì²˜">í†µí•© ì•„í‚¤í…ì²˜</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SSTableWithBloomFilter</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Bloom Filterê°€ í¬í•¨ëœ SSTable</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">sorted_data</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">sorted_data</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">min_key</span> <span class="o">=</span> <span class="nf">min</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">keys</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">max_key</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">keys</span><span class="p">())</span>
        
        <span class="c1"># Bloom Filter ìƒì„±
</span>        <span class="n">self</span><span class="p">.</span><span class="n">bloom_filter</span> <span class="o">=</span> <span class="nc">BloomFilter</span><span class="p">(</span>
            <span class="n">capacity</span><span class="o">=</span><span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">),</span>
            <span class="n">error_rate</span><span class="o">=</span><span class="mf">0.01</span>
        <span class="p">)</span>
        
        <span class="c1"># ëª¨ë“  í‚¤ë¥¼ Bloom Filterì— ì¶”ê°€
</span>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">keys</span><span class="p">():</span>
            <span class="n">self</span><span class="p">.</span><span class="n">bloom_filter</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Bloom Filterë¡œ í•„í„°ë§ í›„ ì¡°íšŒ</span><span class="sh">"""</span>
        <span class="c1"># 1. Bloom Filterë¡œ ë¹ ë¥¸ í•„í„°ë§
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">bloom_filter</span><span class="p">.</span><span class="nf">might_contain</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">None</span>  <span class="c1"># í™•ì‹¤íˆ ì—†ìŒ â†’ ë””ìŠ¤í¬ I/O ì—†ìŒ
</span>        
        <span class="c1"># 2. ì‹¤ì œ ë°ì´í„° ì¡°íšŒ (ë””ìŠ¤í¬ I/O ë°œìƒ)
</span>        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">OptimizedLSMTree</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Bloom Filterê°€ í†µí•©ëœ LSM Tree</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">memtable</span> <span class="o">=</span> <span class="nc">MemTable</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">sstables</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">self</span><span class="p">.</span><span class="n">wal</span> <span class="o">=</span> <span class="nc">WAL</span><span class="p">(</span><span class="sh">"</span><span class="s">wal.log</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ìµœì í™”ëœ ì½ê¸° - Bloom Filter í™œìš©</span><span class="sh">"""</span>
        
        <span class="c1"># 1. MemTable ê²€ìƒ‰ (ë©”ëª¨ë¦¬, ê°€ì¥ ë¹ ë¦„)
</span>        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">memtable</span><span class="p">.</span><span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">memtable</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        
        <span class="c1"># 2. SSTable ê²€ìƒ‰ (Bloom Filterë¡œ í•„í„°ë§)
</span>        <span class="k">for</span> <span class="n">sstable</span> <span class="ow">in</span> <span class="nf">reversed</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">sstables</span><span class="p">):</span>
            <span class="c1"># Bloom Filterë¡œ ë¨¼ì € í™•ì¸ (ë©”ëª¨ë¦¬, ë¹ ë¦„)
</span>            <span class="k">if</span> <span class="n">sstable</span><span class="p">.</span><span class="n">bloom_filter</span><span class="p">.</span><span class="nf">might_contain</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="c1"># ì‹¤ì œë¡œ ì¡´ì¬í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ â†’ ë””ìŠ¤í¬ì—ì„œ ì¡°íšŒ
</span>                <span class="n">value</span> <span class="o">=</span> <span class="n">sstable</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">value</span>
        
        <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># ì„±ëŠ¥ ë¹„êµ
</span><span class="k">def</span> <span class="nf">benchmark_read_performance</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">ì½ê¸° ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬</span><span class="sh">"""</span>
    <span class="kn">import</span> <span class="n">time</span>
    
    <span class="n">lsm_without_bf</span> <span class="o">=</span> <span class="nc">LSMTree</span><span class="p">()</span>  <span class="c1"># Bloom Filter ì—†ìŒ
</span>    <span class="n">lsm_with_bf</span> <span class="o">=</span> <span class="nc">OptimizedLSMTree</span><span class="p">()</span>  <span class="c1"># Bloom Filter ìˆìŒ
</span>    
    <span class="c1"># í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
</span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
        <span class="n">lsm_without_bf</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">key:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="sa">f</span><span class="sh">"</span><span class="s">value:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">lsm_with_bf</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">key:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="sa">f</span><span class="sh">"</span><span class="s">value:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í‚¤ ê²€ìƒ‰ (ê°€ì¥ í° ì°¨ì´)
</span>    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">20000</span><span class="p">):</span>
        <span class="n">lsm_without_bf</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">key:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># ëª¨ë“  SSTable ê²€ìƒ‰
</span>    <span class="n">time_without_bf</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">20000</span><span class="p">):</span>
        <span class="n">lsm_with_bf</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">key:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># Bloom Filterë¡œ ë¹ ë¥´ê²Œ í•„í„°ë§
</span>    <span class="n">time_with_bf</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Bloom Filter ì—†ìŒ: </span><span class="si">{</span><span class="n">time_without_bf</span><span class="si">:</span><span class="p">.</span><span class="mi">4</span><span class="n">f</span><span class="si">}</span><span class="s">ì´ˆ</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Bloom Filter ìˆìŒ: </span><span class="si">{</span><span class="n">time_with_bf</span><span class="si">:</span><span class="p">.</span><span class="mi">4</span><span class="n">f</span><span class="si">}</span><span class="s">ì´ˆ</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ì„±ëŠ¥ í–¥ìƒ: </span><span class="si">{</span><span class="n">time_without_bf</span> <span class="o">/</span> <span class="n">time_with_bf</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">ë°°</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># benchmark_read_performance()
# ì¶œë ¥ ì˜ˆì‹œ:
# Bloom Filter ì—†ìŒ: 2.3456ì´ˆ
# Bloom Filter ìˆìŒ: 0.1234ì´ˆ
# ì„±ëŠ¥ í–¥ìƒ: 19.01ë°°
</span></code></pre></div></div>

<h3 id="ì„±ëŠ¥-í–¥ìƒ-íš¨ê³¼">ì„±ëŠ¥ í–¥ìƒ íš¨ê³¼</h3>

<table>
  <thead>
    <tr>
      <th><strong>ì‹œë‚˜ë¦¬ì˜¤</strong></th>
      <th><strong>Bloom Filter ì—†ìŒ</strong></th>
      <th><strong>Bloom Filter ìˆìŒ</strong></th>
      <th><strong>í–¥ìƒ</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ì¡´ì¬í•˜ëŠ” í‚¤</strong></td>
      <td>ëª¨ë“  ë ˆë²¨ ê²€ìƒ‰</td>
      <td>ëª¨ë“  ë ˆë²¨ ê²€ìƒ‰</td>
      <td>ë¹„ìŠ·</td>
    </tr>
    <tr>
      <td><strong>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í‚¤</strong></td>
      <td>ëª¨ë“  ë ˆë²¨ ê²€ìƒ‰</td>
      <td>ë©”ëª¨ë¦¬ì—ì„œ ì¦‰ì‹œ ê±°ë¶€</td>
      <td><strong>10-100ë°°</strong></td>
    </tr>
    <tr>
      <td><strong>ë¶€ë¶„ ì¡´ì¬ í‚¤</strong></td>
      <td>ì¼ë¶€ ë ˆë²¨ë§Œ ê²€ìƒ‰</td>
      <td>ì¼ë¶€ ë ˆë²¨ë§Œ ê²€ìƒ‰</td>
      <td><strong>2-5ë°°</strong></td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="ì‹¤ì œ-ë°ì´í„°ë² ì´ìŠ¤-êµ¬í˜„">ğŸ—„ï¸ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ êµ¬í˜„</h2>

<h3 id="rocksdb">RocksDB</h3>

<p>RocksDBëŠ” Facebookì—ì„œ ê°œë°œí•œ LSM Tree ê¸°ë°˜ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì…ë‹ˆë‹¤.</p>

<h4 id="rocksdb-ì•„í‚¤í…ì²˜"><strong>RocksDB ì•„í‚¤í…ì²˜</strong></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RocksDB êµ¬ì¡°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MemTable          â”‚  â† SkipList (ë©”ëª¨ë¦¬)
â”‚   (SkipList)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Immutable MemTableâ”‚  â† í”ŒëŸ¬ì‹œ ëŒ€ê¸° ì¤‘
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   L0 SSTable        â”‚  â† Level 0 (ì—¬ëŸ¬ íŒŒì¼)
â”‚   (Bloom Filter)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   L1 SSTable        â”‚  â† Level 1
â”‚   (Bloom Filter)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   L2+ SSTable       â”‚  â† Level 2 ì´ìƒ
â”‚   (Bloom Filter)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<h4 id="rocksdb-ì‚¬ìš©-ì˜ˆì‹œ"><strong>RocksDB ì‚¬ìš© ì˜ˆì‹œ</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">rocksdb</span>

<span class="c1"># RocksDB ì—´ê¸°
</span><span class="n">db</span> <span class="o">=</span> <span class="n">rocksdb</span><span class="p">.</span><span class="nc">DB</span><span class="p">(</span><span class="sh">"</span><span class="s">test.db</span><span class="sh">"</span><span class="p">,</span> <span class="n">rocksdb</span><span class="p">.</span><span class="nc">Options</span><span class="p">(</span><span class="n">create_if_missing</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="c1"># ì“°ê¸° (ë§¤ìš° ë¹ ë¦„ - ìˆœì°¨ ì“°ê¸°)
</span><span class="n">db</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sa">b</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">,</span> <span class="sa">b</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sa">b</span><span class="sh">"</span><span class="s">user:2</span><span class="sh">"</span><span class="p">,</span> <span class="sa">b</span><span class="sh">"</span><span class="s">Bob</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sa">b</span><span class="sh">"</span><span class="s">user:3</span><span class="sh">"</span><span class="p">,</span> <span class="sa">b</span><span class="sh">"</span><span class="s">Charlie</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ì½ê¸° (Bloom Filterë¡œ ìµœì í™”)
</span><span class="n">value</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sa">b</span><span class="sh">"</span><span class="s">user:1</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># b"Alice"
</span>
<span class="c1"># ë°°ì¹˜ ì“°ê¸° (ë” ë¹ ë¦„)
</span><span class="n">batch</span> <span class="o">=</span> <span class="n">rocksdb</span><span class="p">.</span><span class="nc">WriteBatch</span><span class="p">()</span>
<span class="n">batch</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sa">b</span><span class="sh">"</span><span class="s">user:4</span><span class="sh">"</span><span class="p">,</span> <span class="sa">b</span><span class="sh">"</span><span class="s">David</span><span class="sh">"</span><span class="p">)</span>
<span class="n">batch</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="sa">b</span><span class="sh">"</span><span class="s">user:5</span><span class="sh">"</span><span class="p">,</span> <span class="sa">b</span><span class="sh">"</span><span class="s">Eve</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>

<span class="c1"># ë²”ìœ„ ìŠ¤ìº”
</span><span class="n">it</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="nf">iteritems</span><span class="p">()</span>
<span class="n">it</span><span class="p">.</span><span class="nf">seek</span><span class="p">(</span><span class="sa">b</span><span class="sh">"</span><span class="s">user:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="apache-cassandra">Apache Cassandra</h3>

<p>CassandraëŠ” ë¶„ì‚° NoSQL ë°ì´í„°ë² ì´ìŠ¤ë¡œ LSM Treeë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<h4 id="cassandraì˜-lsm-tree-êµ¬í˜„"><strong>Cassandraì˜ LSM Tree êµ¬í˜„</strong></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cassandra êµ¬ì¡°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Memtable          â”‚  â† ê° ë…¸ë“œì˜ ë©”ëª¨ë¦¬
â”‚   (ConcurrentSkipList)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Commit Log        â”‚  â† WAL (ì¥ì•  ë³µêµ¬)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SSTable (L0)      â”‚  â† ì—¬ëŸ¬ SSTable
â”‚   (Bloom Filter)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Compaction        â”‚  â† Size-Tiered Compaction
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<h3 id="hbase">HBase</h3>

<p>HBaseëŠ” Hadoop ê¸°ë°˜ ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤.</p>

<h4 id="hbaseì˜-lsm-tree-êµ¬í˜„"><strong>HBaseì˜ LSM Tree êµ¬í˜„</strong></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HBase êµ¬ì¡°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MemStore          â”‚  â† RegionServer ë©”ëª¨ë¦¬
â”‚   (ConcurrentSkipList)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WAL (HLog)        â”‚  â† HDFSì— ì €ì¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HFile (SSTable)   â”‚  â† HDFSì— ì €ì¥
â”‚   (Bloom Filter)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<hr />

<h2 id="ì„±ëŠ¥-ìµœì í™”-ì „ëµ">âš¡ ì„±ëŠ¥ ìµœì í™” ì „ëµ</h2>

<h3 id="1-bloom-filter-ìµœì í™”">1. Bloom Filter ìµœì í™”</h3>

<h4 id="ì ì‘í˜•-bloom-filter-í¬ê¸°"><strong>ì ì‘í˜• Bloom Filter í¬ê¸°</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AdaptiveBloomFilter</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ë°ì´í„° í¬ê¸°ì— ë”°ë¼ ìë™ ì¡°ì •ë˜ëŠ” Bloom Filter</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">initial_capacity</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">capacity</span> <span class="o">=</span> <span class="n">initial_capacity</span>
        <span class="n">self</span><span class="p">.</span><span class="n">bloom_filter</span> <span class="o">=</span> <span class="nc">BloomFilter</span><span class="p">(</span><span class="n">initial_capacity</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">actual_count</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ì›ì†Œ ì¶”ê°€ ì‹œ ìš©ëŸ‰ ìë™ í™•ì¥</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">bloom_filter</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">actual_count</span> <span class="o">+=</span> <span class="mi">1</span>
        
        <span class="c1"># ì‹¤ì œ ê°œìˆ˜ê°€ ì˜ˆìƒ ìš©ëŸ‰ì˜ 80%ë¥¼ ë„˜ìœ¼ë©´ í™•ì¥
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">actual_count</span> <span class="o">&gt;=</span> <span class="n">self</span><span class="p">.</span><span class="n">capacity</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">_expand</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">_expand</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Bloom Filter í™•ì¥</span><span class="sh">"""</span>
        <span class="n">old_filter</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">bloom_filter</span>
        <span class="n">self</span><span class="p">.</span><span class="n">capacity</span> <span class="o">*=</span> <span class="mi">2</span>
        <span class="n">self</span><span class="p">.</span><span class="n">bloom_filter</span> <span class="o">=</span> <span class="nc">BloomFilter</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">capacity</span><span class="p">)</span>
        
        <span class="c1"># ê¸°ì¡´ ë°ì´í„° ì¬êµ¬ì„± (ì‹¤ì œë¡œëŠ” SSTable ì¬ìƒì„± ì‹œ ìˆ˜í–‰)
</span>        <span class="c1"># ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜
</span>        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Bloom Filter expanded to </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">capacity</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="ë¸”ë¡-ë ˆë²¨-bloom-filter"><strong>ë¸”ë¡ ë ˆë²¨ Bloom Filter</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">BlockBloomFilter</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">SSTableì˜ ê° ë¸”ë¡ë§ˆë‹¤ ë³„ë„ì˜ Bloom Filter</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">block_size</span><span class="o">=</span><span class="mi">4096</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">block_size</span> <span class="o">=</span> <span class="n">block_size</span>
        <span class="n">self</span><span class="p">.</span><span class="n">block_filters</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># ë¸”ë¡ë³„ Bloom Filter
</span>    
    <span class="k">def</span> <span class="nf">add_to_block</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">block_id</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">íŠ¹ì • ë¸”ë¡ì˜ Bloom Filterì— ì¶”ê°€</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="n">block_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">block_filters</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">block_filters</span><span class="p">[</span><span class="n">block_id</span><span class="p">]</span> <span class="o">=</span> <span class="nc">BloomFilter</span><span class="p">(</span>
                <span class="n">capacity</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">block_size</span>
            <span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">block_filters</span><span class="p">[</span><span class="n">block_id</span><span class="p">].</span><span class="nf">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">might_contain_in_block</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">block_id</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">íŠ¹ì • ë¸”ë¡ì— í‚¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="n">block_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">block_filters</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">block_filters</span><span class="p">[</span><span class="n">block_id</span><span class="p">].</span><span class="nf">might_contain</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="2-compaction-ìµœì í™”">2. Compaction ìµœì í™”</h3>

<h4 id="compaction-ì „ëµ-ì„ íƒ"><strong>Compaction ì „ëµ ì„ íƒ</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">CompactionStrategy</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Compaction ì „ëµ ì„ íƒ</span><span class="sh">"""</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">size_tiered_compact</span><span class="p">(</span><span class="n">sstables</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Size-Tiered: ë¹„ìŠ·í•œ í¬ê¸° íŒŒì¼ë“¤ ë³‘í•©</span><span class="sh">"""</span>
        <span class="c1"># ê°™ì€ í¬ê¸° ë²”ìœ„ì˜ SSTableë“¤ì„ ê·¸ë£¹í™”
</span>        <span class="n">size_groups</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">sstable</span> <span class="ow">in</span> <span class="n">sstables</span><span class="p">:</span>
            <span class="n">size_range</span> <span class="o">=</span> <span class="n">sstable</span><span class="p">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">1000</span>  <span class="c1"># 1KB ë‹¨ìœ„ë¡œ ê·¸ë£¹í™”
</span>            <span class="k">if</span> <span class="n">size_range</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">size_groups</span><span class="p">:</span>
                <span class="n">size_groups</span><span class="p">[</span><span class="n">size_range</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">size_groups</span><span class="p">[</span><span class="n">size_range</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">sstable</span><span class="p">)</span>
        
        <span class="c1"># ê° ê·¸ë£¹ì—ì„œ 4ê°œ ì´ìƒì´ë©´ ë³‘í•©
</span>        <span class="n">merged</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">size_range</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">size_groups</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">merged</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">Compactor</span><span class="p">.</span><span class="nf">compact</span><span class="p">(</span><span class="n">group</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">merged</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">merged</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">leveled_compact</span><span class="p">(</span><span class="n">levels</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Leveled: ë ˆë²¨ë³„ í¬ê¸° ì œí•œ</span><span class="sh">"""</span>
        <span class="k">for</span> <span class="n">level</span><span class="p">,</span> <span class="n">sstables</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">levels</span><span class="p">):</span>
            <span class="n">max_files</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># ë ˆë²¨ì´ ë†’ì„ìˆ˜ë¡ ë” ë§ì€ íŒŒì¼ í—ˆìš©
</span>            <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">sstables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_files</span><span class="p">:</span>
                <span class="c1"># ì´ˆê³¼ íŒŒì¼ë“¤ì„ ë‹¤ìŒ ë ˆë²¨ê³¼ ë³‘í•©
</span>                <span class="k">return</span> <span class="n">Compactor</span><span class="p">.</span><span class="nf">level_compact</span><span class="p">(</span>
                    <span class="n">sstables</span><span class="p">[:</span><span class="n">max_files</span><span class="p">],</span>
                    <span class="n">levels</span><span class="p">[</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">levels</span><span class="p">)</span> <span class="k">else</span> <span class="p">[]</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">levels</span>
</code></pre></div></div>

<h3 id="3-ë©”ëª¨ë¦¬-ê´€ë¦¬">3. ë©”ëª¨ë¦¬ ê´€ë¦¬</h3>

<h4 id="memtable-í¬ê¸°-ì œí•œ"><strong>MemTable í¬ê¸° ì œí•œ</strong></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MemoryAwareMemTable</span><span class="p">(</span><span class="n">MemTable</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” MemTable</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">max_memory_mb</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">max_size</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">max_memory_mb</span> <span class="o">=</span> <span class="n">max_memory_mb</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_memory_mb</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì²´í¬</span><span class="sh">"""</span>
        <span class="n">key_size</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="nf">encode</span><span class="p">())</span>
        <span class="n">value_size</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">value</span><span class="p">).</span><span class="nf">encode</span><span class="p">())</span>
        <span class="n">entry_size_mb</span> <span class="o">=</span> <span class="p">(</span><span class="n">key_size</span> <span class="o">+</span> <span class="n">value_size</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">current_memory_mb</span> <span class="o">+</span> <span class="n">entry_size_mb</span> <span class="o">&gt;</span> <span class="n">self</span><span class="p">.</span><span class="n">max_memory_mb</span><span class="p">:</span>
            <span class="c1"># ë©”ëª¨ë¦¬ ì´ˆê³¼ â†’ ì¦‰ì‹œ í”ŒëŸ¬ì‹œ
</span>            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="nf">flush</span><span class="p">()</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">current_memory_mb</span> <span class="o">+=</span> <span class="n">entry_size_mb</span>
        <span class="k">return</span> <span class="nf">super</span><span class="p">().</span><span class="nf">put</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">í”ŒëŸ¬ì‹œ í›„ ë©”ëª¨ë¦¬ ì´ˆê¸°í™”</span><span class="sh">"""</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nf">super</span><span class="p">().</span><span class="nf">flush</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_memory_mb</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>

<hr />

<h2 id="í•™ìŠµ-ìš”ì•½">ğŸ“š í•™ìŠµ ìš”ì•½</h2>

<h3 id="í•µì‹¬-í¬ì¸íŠ¸">í•µì‹¬ í¬ì¸íŠ¸</h3>

<ol>
  <li><strong>LSM Treeì˜ ì¥ì </strong>
    <ul>
      <li>ìˆœì°¨ ì“°ê¸°ë¡œ ë›°ì–´ë‚œ ì“°ê¸° ì„±ëŠ¥</li>
      <li>Write Amplification ê°ì†Œ</li>
      <li>ì••ì¶• íš¨ìœ¨ í–¥ìƒ</li>
      <li>ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ì— ì í•©</li>
    </ul>
  </li>
  <li><strong>Bloom Filterì˜ ì—­í• </strong>
    <ul>
      <li>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í‚¤ë¥¼ ë¹ ë¥´ê²Œ í•„í„°ë§</li>
      <li>ë¶ˆí•„ìš”í•œ ë””ìŠ¤í¬ I/O ì œê±°</li>
      <li>ì‘ì€ ë©”ëª¨ë¦¬ë¡œ í° ì„±ëŠ¥ í–¥ìƒ</li>
    </ul>
  </li>
  <li><strong>ì‹¤ì œ ì ìš©</strong>
    <ul>
      <li>RocksDB: ì„ë² ë””ë“œ ë°ì´í„°ë² ì´ìŠ¤</li>
      <li>Cassandra: ë¶„ì‚° NoSQL</li>
      <li>HBase: ë¹…ë°ì´í„° ìŠ¤í† ë¦¬ì§€</li>
    </ul>
  </li>
</ol>

<h3 id="ì„±ëŠ¥-ë¹„êµ-ìš”ì•½">ì„±ëŠ¥ ë¹„êµ ìš”ì•½</h3>

<table>
  <thead>
    <tr>
      <th><strong>ì‘ì—…</strong></th>
      <th><strong>B-Tree</strong></th>
      <th><strong>LSM Tree (Bloom Filter ì—†ìŒ)</strong></th>
      <th><strong>LSM Tree (Bloom Filter ìˆìŒ)</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ì“°ê¸°</strong></td>
      <td>ëŠë¦¼ (ëœë¤)</td>
      <td>ë§¤ìš° ë¹ ë¦„ (ìˆœì°¨)</td>
      <td>ë§¤ìš° ë¹ ë¦„ (ìˆœì°¨)</td>
    </tr>
    <tr>
      <td><strong>ì½ê¸° (ì¡´ì¬)</strong></td>
      <td>ë¹ ë¦„</td>
      <td>ì¤‘ê°„</td>
      <td>ì¤‘ê°„</td>
    </tr>
    <tr>
      <td><strong>ì½ê¸° (ë¶€ì¬)</strong></td>
      <td>ë¹ ë¦„</td>
      <td>ëŠë¦¼</td>
      <td>ë§¤ìš° ë¹ ë¦„</td>
    </tr>
  </tbody>
</table>

<h3 id="ì‹¤ë¬´-ì²´í¬ë¦¬ìŠ¤íŠ¸">ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />ì“°ê¸° ì¤‘ì‹¬ ì›Œí¬ë¡œë“œì¸ê°€? â†’ LSM Tree ê³ ë ¤</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />ì½ê¸° ì„±ëŠ¥ì´ ì¤‘ìš”í•œê°€? â†’ Bloom Filter í•„ìˆ˜</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />ë©”ëª¨ë¦¬ ì œì•½ì´ ìˆëŠ”ê°€? â†’ Bloom Filter í¬ê¸° ì¡°ì •</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Compaction ì „ëµ ì„ íƒ (Size-Tiered vs Leveled)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />WAL ì„¤ì • ë° ì¥ì•  ë³µêµ¬ ì „ëµ</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />ëª¨ë‹ˆí„°ë§ ë° íŠœë‹ ì§€í‘œ ì„¤ì •</li>
</ul>

<h3 id="ë‹¤ìŒ-ë‹¨ê³„">ë‹¤ìŒ ë‹¨ê³„</h3>

<ul>
  <li><strong>ë¶„ì‚° LSM Tree</strong>: Cassandra, HBaseì˜ ë¶„ì‚° ì•„í‚¤í…ì²˜</li>
  <li><strong>ê³ ê¸‰ Compaction</strong>: Tiered Compaction, Universal Compaction</li>
  <li><strong>ì„±ëŠ¥ íŠœë‹</strong>: ë©”ëª¨ë¦¬ í• ë‹¹, Compaction ìŠ¤ë ˆë“œ ìˆ˜</li>
  <li><strong>ëª¨ë‹ˆí„°ë§</strong>: ì“°ê¸° ì§€ì—°, ì½ê¸° ì§€ì—°, Compaction ì§€ì—°</li>
</ul>

<hr />

<blockquote>
  <p><strong>â€œLSM Treeì™€ Bloom FilterëŠ” í˜„ëŒ€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„±ëŠ¥ì„ ê²°ì •í•˜ëŠ” í•µì‹¬ ê¸°ìˆ ì…ë‹ˆë‹¤.â€</strong></p>
</blockquote>

<p>ì“°ê¸° ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ì›Œí¬ë¡œë“œì—ì„œëŠ” LSM Treeê°€ í•„ìˆ˜ì ì´ë©°, Bloom FilterëŠ” ì½ê¸° ì„±ëŠ¥ì„ í¬ê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤. RocksDB, Cassandra, HBase ë“± ë§ì€ í˜„ëŒ€ì  ë°ì´í„°ë² ì´ìŠ¤ê°€ ì´ ë‘ ê¸°ìˆ ì„ ì¡°í•©í•˜ì—¬ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë‹¬ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ê°€ì´ë“œê°€ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³  ìµœì í™”í•˜ëŠ” ë° ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤!</p>

  </div>

  
</article>

    </div>
  </main>
  
  
  <footer class="site-footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Data Droid Blog</h3>
        <p>ë°ì´í„° ì—”ì§€ë‹ˆì–´ê°€ ë‹¤ë£¨ëŠ” ê¸°ìˆ  ë¸”ë¡œê·¸</p>
      </div>
      
      <div class="footer-section">
        <h4>ì¹´í…Œê³ ë¦¬</h4>
        <ul>
          <li><a href="/categories/data-engineering/">ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§</a></li>
          <li><a href="/categories/bi-engineering/">BI ì—”ì§€ë‹ˆì–´ë§</a></li>
          <li><a href="/categories/infrastructure-tools/">ì¸í”„ë¼ & ë„êµ¬</a></li>
          <li><a href="/categories/data-quality/">ë°ì´í„° í’ˆì§ˆ</a></li>
          <li><a href="/categories/data-ai/">Data AI</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>ë§í¬</h4>
        <ul>
          <li><a href="/">í™ˆ</a></li>
          <li><a href="/blog/">ë¸”ë¡œê·¸</a></li>
          <li><a href="/about/">ì†Œê°œ</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>ì†Œì…œ</h4>
        <ul>
          
          <li><a href="https://github.com/data-droid">GitHub</a></li>
          
          <li><a href="https://www.linkedin.com/in/jaekyung-lee/">LinkedIn</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2026 Data Droid Blog. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ </p>
    </div>
  </div>
</footer>



  
  <script src="/assets/js/main.js"></script>
</body>
</html>
