<header class="site-header">
  <div class="container">
    <div class="site-title">
      <a href="{{ site.baseurl }}/">{{ site.title }}</a>
    </div>
    
    <!-- Mobile menu toggle button -->
    <button class="mobile-menu-toggle" aria-label="메뉴 열기/닫기">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    
    <nav class="site-nav">
      <ul class="nav-list">
        <li><a href="{{ site.baseurl }}/">{{ site.data[page.lang].nav.home | default: site.data.ko.nav.home }}</a></li>
                  <li class="dropdown">
            <a href="#" class="dropdown-toggle">{{ site.data[page.lang].nav.categories | default: site.data.ko.nav.categories }}</a>
            <ul class="dropdown-menu">

              <li><a href="{{ site.baseurl }}/{% if page.lang == 'en' %}en/{% endif %}categories/data-engineering/">{{ site.data[page.lang].categories.data_engineering | default: site.data.ko.categories.data_engineering }}</a></li>
              <li><a href="{{ site.baseurl }}/{% if page.lang == 'en' %}en/{% endif %}categories/bi-engineering/">{{ site.data[page.lang].categories.bi_engineering | default: site.data.ko.categories.bi_engineering }}</a></li>
              <li><a href="{{ site.baseurl }}/{% if page.lang == 'en' %}en/{% endif %}categories/infrastructure-tools/">{{ site.data[page.lang].categories.infrastructure_tools | default: site.data.ko.categories.infrastructure_tools }}</a></li>
              <li><a href="{{ site.baseurl }}/{% if page.lang == 'en' %}en/{% endif %}categories/data-quality/">{{ site.data[page.lang].categories.data_quality | default: site.data.ko.categories.data_quality }}</a></li>
              <li><a href="{{ site.baseurl }}/{% if page.lang == 'en' %}en/{% endif %}categories/data-ai/">{{ site.data[page.lang].categories.data_ai | default: site.data.ko.categories.data_ai }}</a></li>
            </ul>
          </li>
        <li><a href="{{ site.baseurl }}/{% if page.lang == 'en' %}en/{% endif %}blog/">{{ site.data[page.lang].nav.blog | default: site.data.ko.nav.blog }}</a></li>
        <li><a href="{{ site.baseurl }}/{% if page.lang == 'en' %}en/{% endif %}about/">{{ site.data[page.lang].nav.about | default: site.data.ko.nav.about }}</a></li>
      </ul>
    </nav>
    
    <div class="language-switcher">
      {% if page.layout == 'post' %}
        <!-- 포스트용 언어 전환 -->
        {% if page.lang == 'ko' %}
          <a href="{{ page.url }}" class="lang-btn active">한국어</a>
          {% assign slug = page.url | split: '/' | last | remove: '.html' %}
          <a href="/en_posts/{{ page.date | date: '%Y-%m-%d' }}-{{ slug }}.html" class="lang-btn">English</a>
        {% else %}
          {% assign slug = page.url | split: '/' | last | remove: '.html' | split: '-' | slice: 3, 10 | join: '-' %}
          <a href="/{{ page.category }}/{{ page.date | date: '%Y/%m/%d' }}/{{ slug }}.html" class="lang-btn">한국어</a>
          <a href="{{ page.url }}" class="lang-btn active">English</a>
        {% endif %}
      {% else %}
        <!-- 일반 페이지용 언어 전환 (원래 방식) -->
        {% if page.lang == 'ko' %}
          <a href="{{ page.url }}" class="lang-btn active">한국어</a>
          <a href="/en{{ page.url }}" class="lang-btn">English</a>
        {% else %}
          <a href="{{ page.url | remove: '/en' }}" class="lang-btn">한국어</a>
          <a href="{{ page.url }}" class="lang-btn active">English</a>
        {% endif %}
      {% endif %}
    </div>
  </div>
</header>
